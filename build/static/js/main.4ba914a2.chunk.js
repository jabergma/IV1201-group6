(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(18),s=n.n(c),i=(n(24),n(25),n(26),n(5)),o=n(2),l=n(4);var u=n(0);function j(e){var t=e.loggedIn,n="Show Applications";return 1===e.userType&&(n="Create Applications"),t?Object(u.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg",children:[Object(u.jsx)(i.b,{to:"/",className:"navbar-brand",children:"Recruitment App"}),Object(u.jsx)("div",{className:"collpase navbar-collapse",children:Object(u.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(u.jsx)("li",{className:"navbar-item",children:Object(u.jsx)(i.b,{to:"/applications",className:"nav-link",children:n})}),Object(u.jsx)("li",{className:"navbar-item",children:Object(u.jsx)(i.b,{to:"/recruiter",className:"nav-link",children:"Recruiter Page"})}),Object(u.jsx)("li",{className:"navbar-item",children:Object(u.jsx)(i.b,{to:"/logout",className:"nav-link",children:"Logout"})})]})})]}):Object(u.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg",children:[Object(u.jsx)(i.b,{to:"/",className:"navbar-brand",children:"Recruitment App"}),Object(u.jsx)("div",{className:"collpase navbar-collapse",children:Object(u.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(u.jsx)("li",{className:"navbar-item",children:Object(u.jsx)(i.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(u.jsx)("li",{className:"navbar-item",children:Object(u.jsx)(i.b,{to:"/register",className:"nav-link",children:"Register"})})]})})]})}function b(e){var t=e.token;return r.a.createElement(j,{loggedIn:!!t,userType:!!t&&t.authLevel})}var p=n(9),d=n.n(p),h=n(11);function O(e){var t=e.handleSubmit,n=e.token,a=(e.text,"");return n&&(a="an Applicant",1===n.authLevel&&(a="a Recruiter")),Object(u.jsxs)("div",{children:["WELCOME TO THE HOME VIEW!",n?Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["Logged in user email: ",n.email]}),Object(u.jsxs)("p",{children:["You are ",a]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(e){return t(e,0)},children:"I want to be an Applicant!"}),Object(u.jsx)("button",{onClick:function(e){return t(e,1)},children:"I want to be a Recruiter!"})]})]}):""]})}function m(e){var t=e.token,n=e.setToken,a=r.a.useState(null),c=Object(l.a)(a,2),s=c[0],i=c[1];function o(){return(o=Object(h.a)(d.a.mark((function e(a,r){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,fetch("/api/setAuthorization",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,authLevel:r})}).then((function(e){return e.json()}));case 3:c=e.sent,i(c.message),n(c.token);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(O,{handleSubmit:function(e,t){return o.apply(this,arguments)},text:s,token:t})}function x(e){var t=e.handleSubmit;return Object(u.jsx)("form",{children:Object(u.jsx)("input",{type:"submit",value:"Logout",onClick:function(e){return t(e)}})})}function v(e){var t=e.unsetToken,n=e.token,a=Object(o.e)();return r.a.createElement(x,{handleSubmit:function(e){e.preventDefault(),t(n),a.push("/")}})}function f(e){var t=e.handleSubmit,n=e.text,a=r.a.useState(null),c=Object(l.a)(a,2),s=c[0],i=c[1],o=r.a.useState(null),j=Object(l.a)(o,2),b=j[0],p=j[1],d=r.a.useState(null),h=Object(l.a)(d,2),O=h[0],m=h[1],x=r.a.useState(null),v=Object(l.a)(x,2),f=v[0],k=v[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Firstname"}),Object(u.jsx)("input",{type:"text",name:"firstname",placeholder:"Firstname",onChange:function(e){return i(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Lastname"}),Object(u.jsx)("input",{type:"text",name:"lastname",placeholder:"Lastname",onChange:function(e){return p(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"text",name:"email",placeholder:"Email",onChange:function(e){return m(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:function(e){return k(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",onClick:function(e){return t(e,s,b,O,f)},children:"Submit"}),Object(u.jsx)("p",{children:n})]})})}function k(e){var t=e.setToken,n=r.a.useState(null),a=Object(l.a)(n,2),c=a[0],s=a[1],i=Object(o.e)();function u(){return(u=Object(h.a)(d.a.mark((function e(n,a,r,c,o){var l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/api/registerUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:a,lastname:r,email:c,password:o})}).then((function(e){return e.json()}));case 3:l=e.sent,s(l.message),l.token&&(t(l.token),i.push("/"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(f,{handleSubmit:function(e,t,n,a,r){return u.apply(this,arguments)},text:c})}function g(e){var t=e.handleSubmit,n=e.text,a=r.a.useState(null),c=Object(l.a)(a,2),s=c[0],i=c[1],o=r.a.useState(null),j=Object(l.a)(o,2),b=j[0],p=j[1];return Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Email "}),Object(u.jsx)("input",{type:"text",name:"email",onChange:function(e){return i(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Password "}),Object(u.jsx)("input",{type:"password",name:"password",onChange:function(e){return p(e.target.value)}})]}),Object(u.jsx)("input",{type:"submit",onClick:function(e){return t(e,s,b)}}),Object(u.jsx)("p",{children:n})]})}function S(e){var t=e.setToken,n=r.a.useState(null),a=Object(l.a)(n,2),c=a[0],s=a[1],i=Object(o.e)();function u(){return(u=Object(h.a)(d.a.mark((function e(n,a,r){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:r})}).then((function(e){return e.json()}));case 3:c=e.sent,s(c.message),c.token&&(t(c.token),i.push("/"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(g,{handleSubmit:function(e,t,n){return u.apply(this,arguments)},text:c})}function N(e){var t="YOU ARE AN APPLICANT, SHOWING APPLICATIONS";return 1===e.authLevel&&(t="YOU ARE A RECRUITER, CREATE AN APPLICATION"),Object(u.jsx)("div",{children:t})}function y(e){var t=e.token;return r.a.createElement(N,{authLevel:t.authLevel})}function T(e){e.token;return Object(u.jsx)("div",{children:"Hi Recruiter"})}function C(e){var t=e.token,n=Object(o.e)();return 1!==t.authLevel&&n.push("/"),r.a.createElement(T,{token:t})}var E=function(){var e=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("token");return JSON.parse(e)}()),t=Object(l.a)(e,2),n=t[0],r=t[1];return{unsetToken:function(e){localStorage.removeItem("token",JSON.stringify(e)),r(null)},setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),r(e)},token:n}}(),t=e.token,n=e.setToken,c=e.unsetToken;return Object(u.jsx)(i.a,{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(b,{token:t}),Object(u.jsx)(o.a,{path:"/",exact:!0,component:function(){return Object(u.jsx)(m,{setToken:n,token:t})}}),t?Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(o.a,{path:"/logout",exact:!0,component:function(){return Object(u.jsx)(v,{unsetToken:c,token:t})}}),Object(u.jsx)(o.a,{path:"/applications",exact:!0,component:function(){return Object(u.jsx)(y,{token:t})}}),Object(u.jsx)(o.a,{path:"/recruiter",exact:!0,component:function(){return Object(u.jsx)(C,{token:t})}})]}):Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)(o.a,{path:"/login",exact:!0,component:function(){return Object(u.jsx)(S,{setToken:n,token:t})}}),Object(u.jsx)(o.a,{path:"/register",exact:!0,component:function(){return Object(u.jsx)(k,{setToken:n,token:t})}})]})]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(E,{})}),document.getElementById("root")),w()}},[[34,1,2]]]);
//# sourceMappingURL=main.4ba914a2.chunk.js.map